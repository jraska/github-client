// Drafted from https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/functions/helloworld/helloworld-gradle/build.gradle

// Separate buildscript as this is the only file gcloud will see
buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.20"
  }
}

apply plugin: 'java'
apply plugin: 'kotlin'

repositories {
  jcenter()
  mavenCentral()
}
configurations {
  invoker
}

dependencies {
  compileOnly 'com.google.cloud.functions:functions-framework-api:1.0.2'

  implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.20"
  implementation 'com.mixpanel:mixpanel-java:1.4.4'
  implementation 'com.google.code.gson:gson:2.8.6'

  // These dependencies are only used by the tests.
  testImplementation 'com.google.cloud.functions:functions-framework-api:1.0.1'
  testImplementation 'junit:junit:4.13.1'
  testImplementation 'org.assertj:assertj-core:3.18.1'
  testImplementation 'com.squareup.okhttp3:mockwebserver:4.9.0'
}
